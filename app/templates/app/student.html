{% extends "app/layout.html" %}
{% load poll_extras %}

{% block content %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://www.chartjs.org/assets/Chart.min.js"></script>
<br>

<br></br>
 <h2>Attendance Table</h2> 
  <div class="col-lg-8">    
    <table class="table table-striped table-hover table-bordered" style="margin-left: -38px">
      <thead>
        <tr>
          <th>Date</th>
          <th>Is present</th>
        </tr>
      </thead>
      <tbody>

        {% set j = 0  %}
        {% for i in qrid %}
        <tr>
          <th>{{i.created_at|date:"DATE_FORMAT"}}</th>
          <th>{{ x|index:j }}</th>
        </tr>
        {% ++ j %}
        {% endfor %}
        
          <!-- <tr>
            {% for i in "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" %}
            <th>{{ forloop.counter0|add:1 }}</th>
            {% endfor %}
          </tr>
          <tr> 
              {% for j in "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"  %}
              <td>P</td>
              {% endfor %}
            </tr> -->
      </tbody>
    </table>
  </div>
  <div class="col-lg-4" style="text-align:center">
    <canvas id="myChart" width="200" height="200">54</canvas>    
  </div>
  <div class="clearfix"></div>
<script>
var ctx = document.getElementById("myChart").getContext("2d");
var data = [
    {
        value: {{cnt}},
        color: "#46BFBD",
        highlight: "#5AD3D1",
        label: "Present"
    },
    {
        value: {{ans1}},
        color:"#F7464A",
        highlight: "#FF5A5E",
        label: "Absent"
    },
]
var myDoughnutChart = new Chart(ctx).Doughnut(data);</script>
{% endblock %}
